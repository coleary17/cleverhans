\n# Setup Guide for Adversarial ASR Modern\n\nThis guide will help you set up the environment to run the CTC adversarial attacks.\n\n## Option 1: Quick Setup with pip (Recommended)\n\n### 1. Install Python Dependencies\n\n```bash\ncd adversarial_asr_modern\n\n# Create virtual environment\npython3 -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\n\n# Install dependencies\npip install torch torchaudio transformers datasets numpy scipy librosa soundfile openai-whisper matplotlib absl-py\n```\n\n### 2. Test CTC Model\n\n```bash\n# Test the CTC model functionality\npython test_ctc_model.py\n```\n\n### 3. Run CTC Attack\n\n```bash\n# Basic CTC attack\npython run_ctc_attack.py --test_model\n\n# Run actual attack (if test passes)\npython run_ctc_attack.py --num_examples 3\n```\n\n## Option 2: Install UV Package Manager\n\nIf you want to use UV (faster package management):\n\n### Install UV\n\n```bash\n# macOS/Linux\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Windows (PowerShell)\npowershell -c \"irm https://astral.sh/uv/install.sh | iex\"\n\n# After installation, restart your terminal\n```\n\n### Use UV\n\n```bash\ncd adversarial_asr_modern\n\n# Install dependencies with UV\nuv sync\n\n# Run with UV\nuv run python test_ctc_model.py\nuv run python run_ctc_attack.py --test_model\n```\n\n## Option 3: Docker (Most Reliable)\n\n### Build and Run with Docker\n\n```bash\ncd adversarial_asr_modern\n\n# Build container\ndocker build -t adversarial-asr-modern .\n\n# Test CTC model\ndocker run --rm adversarial-asr-modern python test_ctc_model.py\n\n# Run CTC attack\ndocker run --rm -v $(pwd)/output_ctc:/app/output_ctc adversarial-asr-modern \\\n    python run_ctc_attack.py --output_dir /app/output_ctc --num_examples 3\n```\n\n## Troubleshooting\n\n### Issue: \"command not found: uv\"\n**Solution**: Install UV using the curl command above, or use Option 1 (pip).\n\n### Issue: \"No module named 'torch'\"\n**Solution**: Install PyTorch manually:\n```bash\npip install torch torchaudio --index-url https://download.pytorch.org/whl/cpu\n```\n\n### Issue: \"No module named 'transformers'\"\n**Solution**: Install transformers:\n```bash\npip install transformers\n```\n\n### Issue: \"Audio files not found\"\n**Solution**: Make sure you have the LibriSpeech data:\n```bash\n# The script expects audio files at:\n../adversarial_asr/LibriSpeech/test-clean/...\n\n# If you don't have the data, you can test with any .wav file by updating the paths\n```\n\n### Issue: CUDA errors\n**Solution**: Use CPU mode:\n```bash\npython run_ctc_attack.py --device cpu\n```\n\n## Minimal Test (No LibriSpeech data needed)\n\nIf you just want to test the model loading:\n\n```bash\n# This will test model loading without requiring audio files\npython -c \"\nimport sys\nsys.path.insert(0, 'src')\nfrom adversarial_asr_modern.ctc_audio_utils import CTCASRModel\nmodel = CTCASRModel('base', 'cpu')\nprint('✅ CTC model loaded successfully!')\nprint(f'Model info: {model.get_model_info()}')\n\"\n```\n\n## Expected Output\n\nWhen working correctly, you should see:\n```\nLoading facebook/wav2vec2-base-960h on cpu\nModel loaded successfully. Parameters: 95,040,385\n✅ CTC model loaded successfully!\n```\n\n## Next Steps\n\nOnce setup is working:\n1. Run `python run_ctc_attack.py --test_model` to verify functionality\n2. Run `python run_ctc_attack.py --num_examples 3` for a quick attack test\n3. Check `output_ctc/` directory for generated adversarial audio files\n
